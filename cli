<?php

// --------------------------------------------------------------------
// Application dependencies bootstrap
// --------------------------------------------------------------------

require_once __DIR__ . '/bootstrap.php';

// --------------------------------------------------------------------
// Load Service Provider
// --------------------------------------------------------------------

$serviceProvider = require APP_CWD . '/app/service/serviceprovider.php';

// --------------------------------------------------------------------
// Init Synfony Console with injection of Services
// --------------------------------------------------------------------

$app = new Test0\Cli\Application;
$app->setServiceProvider($serviceProvider);

// --------------------------------------------------------------------
// Load Commands
// --------------------------------------------------------------------

require_once APP_CWD . '/app/cli/commands.php';

// --------------------------------------------------------------------
// Run the application CLI interface...
// --------------------------------------------------------------------

$app->run();